{"ast":null,"code":"'use strict';\n\nconst path = require('path');\n\nconst loadJsonFile = require('load-json-file');\n\nconst pathType = require('path-type');\n\nmodule.exports = (fp, opts) => {\n  if (typeof fp !== 'string') {\n    opts = fp;\n    fp = '.';\n  }\n\n  opts = opts || {};\n  return pathType.dir(fp).then(isDir => {\n    if (isDir) {\n      fp = path.join(fp, 'package.json');\n    }\n\n    return loadJsonFile(fp);\n  }).then(x => {\n    if (opts.normalize !== false) {\n      require('normalize-package-data')(x);\n    }\n\n    return x;\n  });\n};\n\nmodule.exports.sync = (fp, opts) => {\n  if (typeof fp !== 'string') {\n    opts = fp;\n    fp = '.';\n  }\n\n  opts = opts || {};\n  fp = pathType.dirSync(fp) ? path.join(fp, 'package.json') : fp;\n  const x = loadJsonFile.sync(fp);\n\n  if (opts.normalize !== false) {\n    require('normalize-package-data')(x);\n  }\n\n  return x;\n};","map":null,"metadata":{},"sourceType":"script"}