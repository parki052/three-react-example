{"ast":null,"code":"'use strict';\n\nconst NodeWatcher = require('./src/node_watcher');\n\nconst PollWatcher = require('./src/poll_watcher');\n\nconst WatchmanWatcher = require('./src/watchman_watcher');\n\nconst WatchexecWatcher = require('./src/watchexec_watcher');\n\nfunction throwNoFSEventsSupports() {\n  throw new Error('Sane >= 4 no longer support the fsevents module.');\n}\n\nfunction sane(dir, options) {\n  options = options || {};\n\n  if (options.watcher) {\n    const WatcherClass = require(options.watcher);\n\n    return new WatcherClass(dir, options);\n  } else if (options.poll) {\n    return new PollWatcher(dir, options);\n  } else if (options.watchman) {\n    return new WatchmanWatcher(dir, options);\n  } else if (options.watchexec) {\n    return new WatchexecWatcher(dir, options);\n  } else if (options.fsevents) {\n    throwNoFSEventsSupports();\n  } else {\n    return new NodeWatcher(dir, options);\n  }\n}\n\nmodule.exports = sane;\nsane.NodeWatcher = NodeWatcher;\nsane.PollWatcher = PollWatcher;\nsane.WatchmanWatcher = WatchmanWatcher;\nsane.WatchexecWatcher = WatchexecWatcher;\nObject.defineProperty(sane, 'FSEventsWatcher', {\n  get() {\n    return throwNoFSEventsSupports();\n  }\n\n});","map":null,"metadata":{},"sourceType":"script"}